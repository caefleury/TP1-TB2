#include <list>
#include <string>
#include "./bibliotecas/sqlite3.h"
#include "./bibliotecas/dominios.h"
#include "./bibliotecas/entidades.h"

using namespace std;

//--------------------------------- Configuracao ---------------------------------------

// Classe ElementoResultado

class ElementoResultado
{
private:
        string nome_coluna;
        string valor_coluna;

public:
        void set_nome_coluna(const string &);
        string get_nome_coluna() const;
        void set_valor_coluna(const string &);
        string get_valor_coluna() const;
};

inline string ElementoResultado::get_nome_coluna() const
{
        return nome_coluna;
}

inline string ElementoResultado::get_valor_coluna() const
{
        return valor_coluna;
}

// Classe ComandoSQL

class ComandoSQL
{
private:
        int rc;
        sqlite3 *bd;
        char *mensagem;
        bool conectar();
        bool desconectar();
        const char *nome_banco_dados;
        static int callback(void *, int, char **, char **);

protected:
        string comando_sql;
        static list<ElementoResultado> lista_resultado;

public:
        bool executar();
        ComandoSQL() { nome_banco_dados = "banco_de_dados.db"; };
};

//------------------------------------ Criar Tabelas ------------------------------------

class ComandoCriarTabelaDesenvolvedores : public ComandoSQL
{
public:
        ComandoCriarTabelaDesenvolvedores();
};

class ComandoCriarTabelaTestes : public ComandoSQL
{
public:
        ComandoCriarTabelaTestes();
};

class ComandoCriarTabelaCasosTeste : public ComandoSQL
{
public:
        ComandoCriarTabelaCasosTeste();
};

//------------------------------------ Retornar -----------------------------------------

// Classe ComandoPesquisarSenha

class ComandoPesquisarSenha : public ComandoSQL
{
public:
        string get_resultado();
        ComandoPesquisarSenha(Matricula);
};

// Classe ComandoPesquisarTeste

class ComandoPesquisarTeste : public ComandoSQL
{
public:
        Teste get_resultado();
        ComandoPesquisarTeste(Codigo);
};

// Classe ComandoPesquisarCasoTeste

class ComandoPesquisarCasoTeste : public ComandoSQL
{
public:
        CasoTeste get_resultado();
        ComandoPesquisarCasoTeste(Codigo);
};

// Classe ComandoPesquisarDesenvolvedor

class ComandoPesquisarDesenvolvedor : public ComandoSQL
{
public:
        Desenvolvedor get_resultado();
        ComandoPesquisarDesenvolvedor(Matricula);
};

// Classe ComandoPesquisarTestesDoDesenvolvedor

class ComandoPesquisarTestesDoDesenvolvedor : public ComandoSQL
{
public:
        list<Teste> get_resultado();
        ComandoPesquisarTestesDoDesenvolvedor(Matricula);
};

// Classe ComandoPesquisarCasosTesteDoTeste

class ComandoPesquisarCasosTesteDoTeste : public ComandoSQL
{
public:
        list<CasoTeste> get_resultado();
        ComandoPesquisarCasosTesteDoTeste(Codigo);
};

//------------------------------------- Criar -----------------------------------------

// Classe ComandoCadastrarDesenvolvedor

class ComandoCadastrarDesenvolvedor : public ComandoSQL
{
public:
        ComandoCadastrarDesenvolvedor(Desenvolvedor);
};

// Classe ComandoCadastrarTeste

class ComandoCadastrarTeste : public ComandoSQL
{
public:
        ComandoCadastrarTeste(Teste);
};

// Classe ComandoCadastrarCasoTeste

class ComandoCadastrarCasoTeste : public ComandoSQL
{
public:
        ComandoCadastrarCasoTeste(CasoTeste);
};

//------------------------------------- Atualizar -----------------------------------------

// Classe ComandoAtualizarDesenvolvedor

class ComandoAtualizarDesenvolvedor : public ComandoSQL
{
public:
        ComandoAtualizarDesenvolvedor(Desenvolvedor);
};

// Classe ComandoAtualizarTeste

class ComandoAtualizarTeste : public ComandoSQL
{
public:
        ComandoAtualizarTeste(Teste);
};

// Classe ComandoAtualizarCasoTeste

class ComandoAtualizarCasoTeste : public ComandoSQL
{
public:
        ComandoAtualizarCasoTeste(CasoTeste);
};

//------------------------------------- Deletar -----------------------------------------

// Classe ComandoDeletarDesenvolvedor

class ComandoDeletarDesenvolvedor : public ComandoSQL
{
public:
        ComandoDeletarDesenvolvedor(Matricula);
};

// Classe ComandoDeletarTeste

class ComandoDeletarTeste : public ComandoSQL
{
public:
        ComandoDeletarTeste(Codigo);
};

// Classe ComandoDeletarCasoTeste

class ComandoDeletarCasoTeste : public ComandoSQL
{
public:
        ComandoDeletarCasoTeste(Codigo);
};
